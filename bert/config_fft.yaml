seed: 42

data:
  train_jsonl: "train.jsonl"
  val_jsonl: "val.jsonl"
  tokenized_dir: "../data/tokenized/o2"

model:
  model_id: "answerdotai/ModernBERT-base"
  max_len_a: 128
  max_len_b: 128
  trust_remote_code: true

peft:
  enable: false
  lora_r: 16
  lora_alpha: 32
  lora_dropout: 0.1
  target_modules: ["Wqkv", "Wo"]

training:
  mode: "full"
  output_dir: "../results/runs/modernbert_o2_fullft"
  epochs: 10

  batch_size: 16
  mix_strategy: "deterministic_concat"

  lr_encoder: 2.0e-4
  lr_head: 2.0e-4
  weight_decay: 0.01
  warmup_ratio: 0.1

  pos_weight: 3

  grad_clip: 1.0

  lambda_a: 1.0
  lambda_b: 0.5

  margin: 2.0

  amp: true
  device: "cuda"
  num_workers: 2

quantization:
  enable: false
  load_in_4bit: false
  load_in_8bit: false
  bnb_4bit_quant_type: "nf4"
  torch_dtype: "bfloat16"
